
<div>
  <%= @from_node.name %>
</div>

<%= form_for(@to_node, method: :post, url: edges_path, remote: true) do |f| %>
  
  <%# エラーメッセージをレンダリング %>
  <%= render 'layouts/error_messages', model: f.object %>
  
  <%# フォーム %>
  <%= hidden_field_tag :from_node_name, @from_node.name %>
  
  <div class="form-group">
    <%= f.label :name, 'ノード名', class: 'sr-only' %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= check_box_tag :is_hide_user %>
    <%= label_tag :is_hide_user, '自分の名前を非公開にする' %>
  </div>
  
  <div class="form-group">
    <%= f.submit '作成', class: 'btn btn-primary', name: nil %>
  </div>
  
<% end %>

<% content_for :script do %>
  <script>
    var current_id = "<%= @current_ref_id %>";
    var view_ids = <%= @view_ref_ids.to_json.html_safe %>;
  </script>
  <%= javascript_include_tag 'firebase/init.js' %>
  <%= javascript_include_tag 'firebase/edge_create.js' %>
<% end %>
