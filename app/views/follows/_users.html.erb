
<%# @param users: リスト表示するユーザのモデルインスタンス %>

<% if users.any? %>

  <ul class="media-list">
    <% users.each do |user| %>
      <li>
        <span>
          <% if user.is_hide_edges %>
            <%= user.name %>
          <% else %>
            <%= link_to(user.name, edge_path(user.ref_id)) %>
          <% end %>
        </span>
        <span>
          <% if current_user != user %>
            <% if current_user.following?(user) %>
              <span id="follow-form-<%= user.id %>">
                <%# フォロー中 %>
                <%= link_to follow_path(id: user.id), method: :delete, remote: true, class: 'btn btn-danger btn-xs' do %>
                  フォロー中
                <% end %>
              </span>
            <% elsif user.is_enable_follow %>
              <span id="follow-form-<%= user.id %>">
                <%# フォローしてない %>
                <%= link_to follows_path(id: user.id), method: :post, remote: true, class: 'btn btn-default btn-xs' do %>
                  フォローする
                <% end %>
              </span>
            <% end %>
          <% end %>
        </span>
      </li>
    <% end %>
  </ul>
  
<% else %>
  <%# 該当ユーザなし %>
<% end %>
